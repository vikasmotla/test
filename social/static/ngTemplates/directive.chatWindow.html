<div class="chatWindow" style="height:{{toggle?500:36}}px;right:{{pos*320+ 30}}px;" friend-url="friend.url" id="chatWindowelizabeth" cancel="closeIMWindow($index)" >
  <div class="header" ng-click="toggler()">
    <div class="container-fluid">
      <i class="fa fa-circle onlineStatus"></i>
      <span class="username ng-binding">{{friend.first_name}} {{friend.last_name}}</span>
      <span class="pull-right" style="cursor:pointer;"><i class="fa {{ toggle? 'fa-chevron-down' :'fa-chevron-up'}}" ></i>&nbsp;&nbsp;&nbsp;<i class="fa fa-close" ng-click="cancel();$event.stopPropagation();"></i></span>
    </div>
  </div>
  <div class="messageView container-fluid" ng-if="toggle" id="scrollArea0">
    <!-- <div ng-repeat="message in ims">
      <div class="row " ng-if="!senderIsMe[$index]">
        <div class="col-md-3">
          <img class="img-responsive img-circle" ng-src="http://localhost:8080/media/HR/images/DP/1505371791_32_elizabeth_user7-128x128.jpg" alt="P" style="position:relative; top:10px;margin-left:5px;" src="http://localhost:8080/media/HR/images/DP/1505371791_32_elizabeth_user7-128x128.jpg"
            width="40px" height="50px">
        </div>
        <div class="col-md-8 messageBubble">
          <p style="word-wrap: break-word;" >dasd</p>
        </div>
      </div>
    </div> -->
    <div ng-repeat="message in ims">
      <div class="row" ng-if="!senderIsMe[$index]">
        <div class="col-md-3">
          <img class="img-responsive img-circle" ng-src="{{message.originator | getDP}}" width="40px" height="50px" alt="P" style="position:relative; top:10px;margin-left:5px;">
        </div>
        <div class="col-md-8 messageBubble"> <p style="word-wrap: break-word;" ng-bind-html="message.message"></p>
        </div>
        <!-- <div ng-bind-html="ei.description">
        </div> -->
      </div>
      <!-- // for the bubble with sender picture is on the left -->
      <div class="row" ng-if="senderIsMe[$index]">
        <div class="col-md-8 col-md-offset-1 messageBubble"> <p style="word-wrap: break-word;" ng-bind-html="message.message"></p>
        </div>
        <div class="col-md-3">
          <img class="img-responsive img-circle" ng-src="{{message.originator | getDP}}" width="40px" height="50px" alt="P" style="position:relative; top:10px;margin-left:5px;">
        </div>
      </div>
    </div>
    <div class="row" style="height:40px;">
      <span ng-show="isTyping" style="padding:10px;" >Typing .. </span>
    </div>
  </div>
  <div class="footer" ng-show="toggle">
    <div class="container-fluid">
      <input class="form-control" value="" style="width:100%" ng-enter="send()" ng-model="messageToSend" type="text">
    </div>
  </div>
</div>
